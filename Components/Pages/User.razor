@page "/user"
@rendermode InteractiveServer
@using PetAdoptionProject.Models

<EditForm model="@user" OnValidSubmit="SubmitForm" style="max-width: 400px; margin: 0 auto; padding: 20px; border: 1px solid #ccc; border-radius: 5px;">
    <div class="container">
        <h2 style="text-align: center;">Sign Up</h2>
        <p style="text-align: center;">Dear User, Please fill in this form to create an account and become a user.</p>
        <hr>

        <label for="email"><b>First Name</b></label>
        <InputText type="text" @bind-Value="user.FirstName" placeholder="Enter FirstName" name="name" style="width: 100%; padding: 10px; margin-bottom: 15px;" required />

        <label for="email"><b>Last Name</b></label>
        <InputText type="text" @bind-Value="user.LastName" placeholder="Enter LastName" name="name" style="width: 100%; padding: 10px; margin-bottom: 15px;" required />

        <label for="email"><b>Address</b></label>
        <InputText type="text" @bind-Value="user.UserAddress" placeholder="Enter Your Address" name="name" style="width: 100%; padding: 10px; margin-bottom: 15px;" required />

        <label for="email"><b>PetType</b></label>
        <InputText type="text" @bind-Value="user.PetType" placeholder="Enter Pet Type" name="name" style="width: 100%; padding: 10px; margin-bottom: 15px;" />

        <label for="email"><b>PetName</b></label>
        <InputText type="text" @bind-Value="user.PetName" placeholder="Enter Pet Name" name="name" style="width: 100%; padding: 10px; margin-bottom: 15px;" />

        <label for="phone"><b>Telephone</b></label>
        <InputText type="tel" @bind-Value="user.PhoneNumber" id="phone" placeholder="Enter Your Phone Number" name="phone" style="width: 100%; padding: 10px; margin-bottom: 15px;" required />

        <label for="email"><b>Email</b></label>
        <InputText type="text" @bind-Value="user.Email" placeholder="Enter Email" name="email" style="width: 100%; padding: 10px; margin-bottom: 15px;" required />

        <label for="psw"><b>Password</b></label>
        <InputText type="password" @bind-Value="user.Password" placeholder="Enter Password" name="psw" style="width: 100%; padding: 10px; margin-bottom: 15px;" required />

        <label for="psw-repeat"><b>Repeat Password</b></label>
        <input type="password" placeholder="Repeat Password" name="psw-repeat" style="width: 100%; padding: 10px; margin-bottom: 15px;" required>

        <label style="display: block;">
            <input type="checkbox" checked="checked" name="remember" style="margin-bottom: 15px;"> Remember me
        </label>

        <p style="text-align: center;">By creating an account you agree to our <a href="#" style="color: dodgerblue;">Terms & Privacy</a>.</p>

        <div class="clearfix">
            <button type="button" class="cancelbtn" style="width: 50%; float: left; margin-right: 5%;">Cancel</button>
            <br>
            <br>
            <button type="submit" class="btn btn-primary" style="width: 50%; float: left;">Sign Up</button>
        </div>
    </div>
</EditForm>


@inject Data.DataContext DbContext
@code {
    public UserDB user = new UserDB();
    private async Task SubmitForm()
    {
        DbContext.Users.Add(user);
        await DbContext.SaveChangesAsync();
    }
}
